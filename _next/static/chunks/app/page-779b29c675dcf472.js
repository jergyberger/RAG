(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{5516:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i});var s=a(5155),r=a(6766);let l={src:"/RAG/_next/static/media/myRAG.1f5c3e91.png",height:500,width:500,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAACVBMVEUtMqlaXrs7P68zykMdAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAGElEQVR4nGNgwAaYmKAMRkYYDWPBpVABAAI3AA+OpxMPAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8};var n=a(2115);function i(){let[e,t]=(0,n.useState)(""),[a,i]=(0,n.useState)([]),[A,o]=(0,n.useState)(!1),c=(0,n.useRef)(null),d=async s=>{var r;if(s.preventDefault(),!e.trim())return;let l=[...a,{role:"user",content:e},{role:"assistant",content:""}];i(l),o(!0);let n=null==(r=(await fetch("/api/chat",{method:"POST",body:JSON.stringify({messages:l}),headers:{"Content-Type":"application/json"}})).body)?void 0:r.getReader(),A=new TextDecoder("utf-8"),c="";for(;n;){let{value:e,done:t}=await n.read();if(t)break;let a=A.decode(e,{stream:!0});c+=a,i(e=>e.map((t,a)=>a===e.length-1?{...t,content:c}:t))}t(""),o(!1)};return(0,n.useEffect)(()=>{c.current&&(c.current.scrollTop=c.current.scrollHeight)},[a]),(0,s.jsxs)("main",{children:[(0,s.jsx)("a",{href:"https://jergyberger.github.io/portfolio/index.html",className:"back-button",children:"← Back to Portfolio"}),(0,s.jsx)(r.default,{className:"logo",src:l,width:"200",alt:"RAG Logo",priority:!0}),(0,s.jsx)("div",{className:"chat-box",ref:c,children:a.map((e,t)=>(0,s.jsx)("div",{className:"message ".concat("user"===e.role?"right":"left"),children:(0,s.jsxs)("div",{className:"bubble ".concat(e.role),children:[(0,s.jsxs)("strong",{children:["user"===e.role?"You":"myRAG",": "]}),(0,s.jsx)("span",{children:e.content})]})},t))}),(0,s.jsxs)("form",{onSubmit:d,className:"chat-input",children:[(0,s.jsx)("input",{value:e,placeholder:"Ask me something...",onChange:e=>t(e.target.value),disabled:A}),(0,s.jsx)("button",{type:"submit",disabled:A,children:"Send"})]})]})}},8132:(e,t,a)=>{Promise.resolve().then(a.bind(a,5516))}},e=>{var t=t=>e(e.s=t);e.O(0,[766,441,684,358],()=>t(8132)),_N_E=e.O()}]);